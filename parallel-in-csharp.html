<!DOCTYPE html>
<html lang="zhs" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Parallel patterns in C# - Maerlyn's Rainbow</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://wizmann.tk/parallel-in-csharp.html">

        <meta name="author" content="Wizmann" />
        <meta name="keywords" content="csharp,parallel,thread,async" />
        <meta name="description" content="写在前面 与C/C++所使用的，传统的基于线程的并行模式不同，C#实现了丰富的并发编程模型，其中以异步模型最为流行。 本文中我们重点讨论C#在发展过程中出现的几种异步编程模型： Async Programming Model（APM） Event-based Async Pattern (EAP) Task-based Async Pattern（TAP） async/await语法糖 异步编程入门 同步模式是最常见，也是最被人熟知的编程模型，每一个任务按顺序执行，前一个任务执行完之后才会执行下一个任务。 异步编程和同步编程不同，程序的执行流程是由“事件”所驱动的。异步编程有两种实现方式，回调与future模式。 回调函数在Javascript中被大量使用，相信大家也都不会陌生。但是大量的回调函数会让代码失去可读性，陷入“Callback hell”。 Promise模式是回调函数的一种“包装”。我们使用一个占位符来表示“未来”将会产生的一个异步处理结果。 这个占位符在不同的语言/框架里面有不同的名字，其定义也不尽相同： Task …" />

        <meta property="og:site_name" content="Maerlyn's Rainbow" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Parallel patterns in C#"/>
        <meta property="og:url" content="http://wizmann.tk/parallel-in-csharp.html"/>
        <meta property="og:description" content="写在前面 与C/C++所使用的，传统的基于线程的并行模式不同，C#实现了丰富的并发编程模型，其中以异步模型最为流行。 本文中我们重点讨论C#在发展过程中出现的几种异步编程模型： Async Programming Model（APM） Event-based Async Pattern (EAP) Task-based Async Pattern（TAP） async/await语法糖 异步编程入门 同步模式是最常见，也是最被人熟知的编程模型，每一个任务按顺序执行，前一个任务执行完之后才会执行下一个任务。 异步编程和同步编程不同，程序的执行流程是由“事件”所驱动的。异步编程有两种实现方式，回调与future模式。 回调函数在Javascript中被大量使用，相信大家也都不会陌生。但是大量的回调函数会让代码失去可读性，陷入“Callback hell”。 Promise模式是回调函数的一种“包装”。我们使用一个占位符来表示“未来”将会产生的一个异步处理结果。 这个占位符在不同的语言/框架里面有不同的名字，其定义也不尽相同： Task …"/>
        <meta property="article:published_time" content="2017-01-22" />
            <meta property="article:section" content="Blog" />
            <meta property="article:tag" content="csharp" />
            <meta property="article:tag" content="parallel" />
            <meta property="article:tag" content="thread" />
            <meta property="article:tag" content="async" />
            <meta property="article:author" content="Wizmann" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://wizmann.tk/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://wizmann.tk/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://wizmann.tk/theme/css/pygments/solarizedlight.css" rel="stylesheet">
    <link rel="stylesheet" href="http://wizmann.tk/theme/css/style.css" type="text/css"/>





</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://wizmann.tk/" class="navbar-brand">
Maerlyn's Rainbow            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="http://wizmann.tk/category/blog.html">Blog</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://wizmann.tk/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://wizmann.tk/parallel-in-csharp.html"
                       rel="bookmark"
                       title="Permalink to Parallel patterns in C#">
                        Parallel patterns in C#
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2017-01-22T22:52:28+08:00"> 2017-01-22</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="http://wizmann.tk/tag/csharp.html">csharp</a>
        /
	<a href="http://wizmann.tk/tag/parallel.html">parallel</a>
        /
	<a href="http://wizmann.tk/tag/thread.html">thread</a>
        /
	<a href="http://wizmann.tk/tag/async.html">async</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <h2>写在前面</h2>
<p>与C/C++所使用的，传统的基于线程的并行模式不同，C#实现了丰富的并发编程模型，其中以异步模型最为流行。</p>
<p>本文中我们重点讨论C#在发展过程中出现的几种异步编程模型：</p>
<ul>
<li>Async Programming Model（APM）</li>
<li>Event-based Async Pattern (EAP)</li>
<li>Task-based Async Pattern（TAP）</li>
<li>async/await语法糖</li>
</ul>
<h2>异步编程入门</h2>
<p>同步模式是最常见，也是最被人熟知的编程模型，每一个任务按顺序执行，前一个任务执行完之后才会执行下一个任务。</p>
<p>异步编程和同步编程不同，程序的执行流程是由“事件”所驱动的。异步编程有两种实现方式，回调与future模式。</p>
<p>回调函数在Javascript中被大量使用，相信大家也都不会陌生。但是大量的回调函数会让代码失去可读性，陷入“Callback hell”。</p>
<p>Promise模式是回调函数的一种“包装”。我们使用一个占位符来表示“未来”将会产生的一个异步处理结果。</p>
<p>这个占位符在不同的语言/框架里面有不同的名字，其定义也不尽相同：</p>
<ul>
<li>Task - C#</li>
<li>Deferred - Python Twisted</li>
<li>Promise - Javascript</li>
</ul>
<p>在任务结束后，会触发绑定在这个占位符上定义的回调函数，继续预定义好的逻辑。</p>
<p>举个例子，同步模型就是你：</p>
<p>宅家想吃饭 -&gt; 下楼买饭 -&gt; 上楼 -&gt; 吃饭 -&gt; 打游戏看漂亮小姐姐。</p>
<p>而异步模型呢，就是：</p>
<p>宅家想吃饭 -&gt; 手机叫外卖 -&gt; 拿到了外卖定单（拿到占位符 或 注册回调）-&gt; 打游戏看漂亮小姐姐 -&gt; 外卖小哥把饭送上门（启动回调） -&gt; 吃饭 -&gt; 继续打游戏看漂亮小姐姐。</p>
<p>虽然从上面看，异步模型比同步模型要复杂一些。但是它却节省了耗时的“上下楼买饭”的时间，让你可以分配更多的时间用来看漂亮小姐姐。这和我们写程序时的思路是一致的，节省动辄十几几十毫秒耗时的IO时间，将更多的时间用在CPU上。</p>
<h2>Thread Based Parallel</h2>
<p>基于线程的并发模型是比较传统的并发模型了，基本上所有的现代编程语言都会支持。C#中Thread的用法与Java类似，这里就不做展开。</p>
<p>与此同时，C#还支持Thread pool，用来运行"long-running processor-bound tasks"。</p>
<p>直接操作线程也许是中年程序员的必修课，但是手动管理线程会给程序带来额外的负担。所以各种模型与框架应运而生，试图降低并发编程的复杂度。</p>
<h2>Async Programming Model (APM)</h2>
<p>在我们熟悉的async/await语法糖出现之前，C#中使用APM来表示异步操作。虽然这是一种上古时期的回调模式语法，但是现在有很多库仍旧支持这种风格。如Azure Storage SDK中的<code>CloudTable.BeginExecute</code>等一系列函数。</p>
<p>下面是一个简单的使用APM模式的代码范例：</p>
<div class="highlight"><pre><span></span>using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Remoting.Messaging;
using System.Runtime.Remoting.Proxies;
using System.Text;
using System.Threading;
using System.Threading.Tasks;

namespace ConsoleApplication6
{
    class Program
    {
        public delegate int AsyncInvoke();

        static void Main(string[] args)
        {
            var SI = new AsyncInvoke(MyCall);
            var ar = SI.BeginInvoke(MyCallback, null);

            Console.WriteLine(&quot;Main()&quot;);
            while (!ar.AsyncWaitHandle.WaitOne(1000))
            {
                Console.WriteLine(&quot;Main() waiting...&quot;);
            }
            Console.WriteLine(&quot;Main() done&quot;);

            Console.ReadLine();
        }

        static int MyCall()
        {
            for (int i = 0; i &lt; 5; i++)
            {
                Console.WriteLine(&quot;running...&quot;);
                Thread.Sleep(500);
            }
            Console.WriteLine(&quot;done&quot;);
            return 42;
        }

        static void MyCallback(IAsyncResult iResult)
        {
            var result = iResult as AsyncResult;
            var si = (AsyncInvoke) result.AsyncDelegate;
            int ret = si.EndInvoke(result);
            Console.WriteLine(ret);
        }
    }
}
</pre></div>


<p>运行结果如下：</p>
<p><img alt="" src="http://wizmann-pic.qiniudn.com/17-1-19/26234044-file_1484828912411_150f3.gif"></p>
<p>我们可以看到：
1. 我们将<code>MyCall()</code>“包装”在一个<code>delegate</code>中，然后调用<code>BeginInvoke</code>函数实现异步执行。这个delegate的执行不会阻塞main thread。
2. 一个异步执行的<code>delegate</code>可以有一个回调，这个回调在delegate执行完后被触发。
3. 我们可以"long-polling"等待一个异步调用执行完。这里的“执行完”不包括条目2提到的回调（小心race condition！）。
4. 异步执行的结果可以通过<code>delegate.EndInvoke(IAsyncResult)</code>函数获取到异步调用的结果。
5. 由条目3我们可以知道，在callback函数中获取异步调用的结果是最合适的。</p>
<p>所以APM风格的代码写起来非常像javascript中的回调写法，如果逻辑复杂的话，维护起来会是一个大坑。</p>
<h2>Event Asynchronous Pattern (EAP)</h2>
<p>EAP是回调函数的另一种封装。</p>
<p>我们来看下面的代码：</p>
<div class="highlight"><pre><span></span>using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;

namespace ConsoleApplication2
{
    class StringEventArgs : EventArgs
    {
        public string Content { get; set; }
    }

    class Solution
    {
        private event EventHandler&lt;StringEventArgs&gt; _eventHandler;

        public Solution()
        {
            _eventHandler += Handle1;
            _eventHandler += Handle2;
        }

        public void Run()
        {
            _eventHandler?.Invoke(this, new StringEventArgs()
            {
                Content = &quot;123&quot;
            });
        }

        void Handle1(object sender, StringEventArgs args)
        {
            Console.WriteLine(&quot;Handle1 &quot; + args.Content);
            Thread.Sleep(1000);
        }
        void Handle2(object sender, StringEventArgs args)
        {
            Console.WriteLine(&quot;Handle2 &quot; + args.Content);
            Thread.Sleep(1000);
        }
    }
    class Program
    {
        static void Main(string[] args)
        {
            Solution sol = new Solution();
            sol.Run();
            Console.WriteLine(&quot;Done&quot;);
            Console.ReadLine();
        }
    }
}
</pre></div>


<p>运行结果如下：</p>
<p><img alt="" src="http://wizmann-pic.qiniudn.com/17-1-20/46892581-file_1484911655343_68ae.gif"></p>
<p>我们可以看出，所有的函数都执行在同一个线程上。并且<code>Handle1</code>和<code>Handle2</code>顺序执行。</p>
<p>在实际工程中，我们fire event的代码可以在不同的线程，之后<code>EventHandler</code>，也就是callback函数会被调用。</p>
<p>Event同时支持<code>BeginInvoke</code>和<code>EndInvoke</code>函数，也就意味着我们可以异步的fire相应的回调。但是注意此时我们只能注册唯一的回调，因为<code>BeginInvoke</code>只能有一个目标回调（原理：在同一时间同一线程只能有一个函数调用）。</p>
<h2>Task Asynchronous Pattern (TAP)</h2>
<p>在.NET 4.0（现在已经到6.0了哦），C#引入了TPL，Task Parallel Library。Task的目标是统一C#中的不同异步编程风格。</p>
<p>TPL中的Task非常像JS中的promise和twisted中的deferred，是“未来会完成的操作的结果”的占位符。</p>
<p>我们来看一段简单代码：</p>
<div class="highlight"><pre><span></span>using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;

namespace ConsoleApplication3
{
    class Program
    {
        static void Main(string[] args)
        {
            Task t = Task.Run(() =&gt;
            {
                Console.WriteLine(&quot;Task start&quot;);
                Thread.Sleep(2000);
                Console.WriteLine(&quot;Task end&quot;);
            });

            while (!t.IsCompleted)
            {
                Console.WriteLine(&quot;Main(): Task is running...&quot;);
                Thread.Sleep(1000);
            }

            Console.WriteLine(&quot;Done&quot;);
            Console.ReadLine();
        }
    }
}
</pre></div>


<p>这段代码我们前面提到的APM和EAP风格的代码有明显的不同，TAP更易读，并且保持了控制流的完整性。不像APM需要在<code>EndInvoke</code>函数中获取返回值以及进行后续操作，也不像EAP一样需要根据不同的event声明不同的回调。</p>
<p>Task也可能“串起来”，实现多级回调的机制。</p>
<div class="highlight"><pre><span></span>using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace ConsoleApplication4
{
    class Program
    {
        static void Main(string[] args)
        {
            var t0 = Task.Run(() =&gt; 0);
            var t1 = t0.ContinueWith((antecedent) =&gt;
            {
                Console.WriteLine(antecedent.Result);
                return antecedent.Result + 1;
            });
            var t2 = t1.ContinueWith((antecedent) =&gt;
            {
                Console.WriteLine(antecedent.Result);
                return antecedent.Result + 1;
            });
            var t3 = t2.ContinueWith((antecedent) =&gt;
            {
                Console.WriteLine(antecedent.Result);
                return antecedent.Result + 1;
            });

            Console.ReadLine();
        }
    }
}
</pre></div>


<p>当然我们还可以把回调写成一棵树状结构，然后一层一层的执行，不过生命是如此宝贵，我们并没有充分的理由要这么做。</p>
<h2>async/await语法糖</h2>
<p>async/await语法糖在C# 5.0中被引入，其目的是为了避免回调带来的代码复杂度。就像Twisted中的<code>@inlineCallbacks</code>一样，省去了defer复杂的回调链。</p>
<p><code>await</code>中有一个"wait"，说明这是一个“等待”操作。它等待的是相应的Task执行完成。</p>
<p>我们来看一段代码：</p>
<div class="highlight"><pre><span></span>private async void DumpWebPageAsync(string uri)
{
    WebClient webClient = new WebClient();
    string page = await webClient.DownloadStringTaskAsync(uri);
    Console.WriteLine(page);
}
</pre></div>


<p>当代码执行到<code>await</code>一行时，当前函数会主动放弃当前的控制流。当使用<code>await</code>修饰的Task完成后，当前函数会从之前中断的地方继续执行。</p>
<p>这样做的好处是我们可以写出和同步版本非常相似的异步代码，只需要在必须的地方加上<code>await</code>关键字，提醒编译器这里是一个异步函数，需要额外的处理逻辑，但这一切都是对开发者透明的。</p>
<h3>async/await干了什么</h3>
<p>想弄清楚async/await到底干了什么，首先我们要想明白线程到底是什么、干了什么。</p>
<p>线程是进程内一条执行流的状态，其中包括了硬件状态（IP、Registers等）以及堆栈（栈上的局部变量和堆上的进程级内存）。那么如果我们想实现挂起/启动（Hibernating and Resuming），那么我们就要有一个机制来保存当前线程的运行状态。</p>
<p>所以当你写下了async/await关键字后，编译器在后面帮助你生成了状态保存和恢复运行上下文的代码。</p>
<h3>async/await到底干了什么</h3>
<p>想像我们有一个复杂的async函数，里面有很多个await调用，那就意味着这个函数中会有多次挂起/继续操作。同时我们还要维护这个函数的状态。如果我们是这个语法糖的设计者，我们会选择怎么样的手段来处理这个问题呢？</p>
<p>是的，状态机。async/await避免了代码的碎片化，它的解决方案并不是消灭了回调函数和Continuation Tasks，而是使用工具（编译器）来帮助人类进行重复劳动。当async函数从挂起中恢复时，会调用<code>MoveNext</code>函数（相信看过async函数那一长串的traceback的同学肯定对这个函数非常眼熟），<code>MoveNext</code>函数会在async函数第一次被调用以及从挂起中恢复时被调用。状态机保存了当前函数的执行状态，当<code>MoveNext</code>函数被调用时，会根据当前状态来判断接下来执行什么代码。</p>
<h3>asycn/await到底TMD干了什么</h3>
<p>由于async/awaic语法糖是在编译期才被翻译成相应的程序代码，所以我们只能使用IL反编译器来窥探编译器到底做了怎样的处理与优化。不过反编译器你懂得，生成的代码基本没法看，讲解起来也会非常晦涩。</p>
<p>幸好在99%的情况下，我们并不需要知道async/await是怎样被展开的。如果你确实对这个问题感兴趣，可以参考这篇文章：<a href="https://www.codeproject.com/Articles/535635/Async-Await-and-the-Generated-StateMachine">Async Await and the Generated StateMachine</a>。</p>
<h2>几个常见的坑</h2>
<h3>await 与 锁</h3>
<p>由于await会中断当前函数在当前线程的执行流，并且可能在恢复时，被指派到另外的线程。所以对await加锁明显是多此一举的。并且如果操作不当，还会造成死锁。</p>
<p>所以我们应该把await放到加锁的区域外。</p>
<div class="highlight"><pre><span></span>lock (sync)
{    
    // Prepare for async operation
}

int myNum = await AlexsMethodAsync();

lock (sync)
{    
    // Use result of async operation
}
</pre></div>


<h3>"There is an ... unfired Task between us"</h3>
<p>一个async函数如果返回的是Task，那么它返回的一定是一个hot task，即已经被启动了的Task。</p>
<p>并且await只可能等待一个启动了的Task，否则await操作将会hang住，破坏程序既定的执行流。</p>
<h3>使用TPL (Task parallel library)</h3>
<blockquote>
<p>Async methods are synchronous util needed.</p>
</blockquote>
<p>如果我们想同时执行几个异步操作，使用for来遍历执行可不是一个好主意。因为这样函数执行流仍然是顺序执行相应的函数。</p>
<p>TPL提供了<code>WhenAll</code>、<code>WhenAny</code>等函数，让我们可以有弹性的并发执行Task。</p>
<p>当然我们还可以使用PLINQ，不过这就是另外一个话题了。</p>
<h2>参考链接</h2>
<ul>
<li><a href="https://www.codeproject.com/Articles/535635/Async-Await-and-the-Generated-StateMachine">Async Await and the Generated StateMachine</a></li>
<li><a href="http://blog.stephencleary.com/2012/07/async-interop-with-iasyncresult.html">Async Interop with IAsyncResult</a></li>
<li><a href="https://msdn.microsoft.com/en-us/library/wewwczdw(v=vs.110).aspx">Event-based Asynchronous Pattern Overview</a></li>
<li><a href="https://www.safaribooksonline.com/library/view/async-in-c/9781449337155/">Async in C# 5.0</a></li>
<li><a href="https://www.safaribooksonline.com/library/view/essential-c-60/9780134176147/">Essential C# 6.0</a> Cpt18</li>
</ul>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'wizmann'; // required: replace example with your forum shortname

                    var disqus_identifier = 'parallel-in-csharp';
                var disqus_url = 'http://wizmann.tk/parallel-in-csharp.html';

            var disqus_config = function () {
                this.language = "zhs";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://github.com/wizmann"><i class="fa fa-github-square fa-lg"></i> github</a></li>
                <li class="list-group-item"><a href="http://wizmann.tk/feeds/all.rss.xml"><i class="fa fa-rss-square fa-lg"></i> rss</a></li>
              </ul>
            </li>



            <li class="list-group-item"><a href="http://wizmann.tk/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                    <li class="list-group-item tag-1">
                        <a href="http://wizmann.tk/tag/algorithm.html">
                            algorithm
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://wizmann.tk/tag/ti-jie.html">
                            题解
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://wizmann.tk/tag/suan-fa.html">
                            算法
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://wizmann.tk/tag/codeforces.html">
                            codeforces
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/tcp.html">
                            TCP
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/gong-kai-ke.html">
                            公开课
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/networking.html">
                            networking
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/python.html">
                            python
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/interview.html">
                            interview
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/cpp.html">
                            cpp
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/stup.html">
                            STUP
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/c.html">
                            C++
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/xian-liao.html">
                            闲聊
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/protocol.html">
                            protocol
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/system-design.html">
                            System Design
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/chrome-extension.html">
                            chrome-extension
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/leetcode.html">
                            leetcode
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/udp.html">
                            UDP
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/rpc.html">
                            rpc
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/phxrpc.html">
                            phxrpc
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/chuang-zao-li.html">
                            创造力
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/induction.html">
                            induction
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/async.html">
                            async
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/ucontext.html">
                            ucontext
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/stack.html">
                            stack
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/google.html">
                            google
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/protobuf.html">
                            protobuf
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/thread.html">
                            thread
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/she-ji-mo-shi.html">
                            设计模式
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/cse351.html">
                            CSE351
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/flatbuffer.html">
                            flatbuffer
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/du-shu.html">
                            读书
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/queue.html">
                            queue
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/yunfile.html">
                            Yunfile
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/zeromq.html">
                            zeromq
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/linux.html">
                            linux
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/fen-lei-qi.html">
                            分类器
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/cocurrency.html">
                            cocurrency
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/twisted.html">
                            twisted
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/binary-tree.html">
                            binary tree
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/si-wei.html">
                            思维
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/sort.html">
                            sort
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/distributed-system.html">
                            distributed system
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/ji-suan-ji-ke-xue.html">
                            计算机科学
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/social-network.html">
                            Social Network
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/app.html">
                            app
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/ya-suo.html">
                            压缩
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/ot.html">
                            ot
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/graph.html">
                            graph
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/binary-indexed-tree.html">
                            binary indexed tree
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/ergodone.html">
                            ergodone
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/allocate.html">
                            allocate
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/keyboard.html">
                            keyboard
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/quick-sort.html">
                            quick sort
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/career.html">
                            career
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/priority-queue.html">
                            priority queue
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/metadata.html">
                            metadata
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/heap.html">
                            heap
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/median.html">
                            median
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/userscript.html">
                            userscript
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/tlv.html">
                            TLV
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/memory.html">
                            memory
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/streambuf.html">
                            streambuf
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/multiprocess.html">
                            multiprocess
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/priority_queue.html">
                            priority_queue
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/cao-kuai-meng.html">
                            糙快猛
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/csharp.html">
                            csharp
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/stylish.html">
                            stylish
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/geometric.html">
                            geometric
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/quora.html">
                            quora
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/lock-less.html">
                            lock-less
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/code-golf.html">
                            code golf
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/multithread.html">
                            multithread
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/geohash.html">
                            GeoHash
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/message-queue.html">
                            message queue
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/parallel.html">
                            parallel
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/memory-barrier.html">
                            memory-barrier
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/network.html">
                            network
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/cachegrind.html">
                            cachegrind
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/poi.html">
                            POI
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/socket.html">
                            socket
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/markdown.html">
                            markdown
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/crack.html">
                            crack
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/asm.html">
                            asm
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/normal-distribution.html">
                            normal-distribution
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/string.html">
                            string
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/poll.html">
                            poll
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/epoll.html">
                            epoll
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/xie-cheng.html">
                            协程
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/cache.html">
                            cache
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/lian-biao.html">
                            链表
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/valgrind.html">
                            valgrind
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/workflowy.html">
                            workflowy
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/tcpip.html">
                            tcpip
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/pelican.html">
                            pelican
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/front-end-development.html">
                            front-end development
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/head-first.html">
                            head-first
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/alloca.html">
                            alloca
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/zi-fu-chuan.html">
                            字符串
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/mian-shi.html">
                            面试
                        </a>
                    </li>
                </ul>
            </li>


    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://getpelican.com/" target="_blank">
                Pelican
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://continuation.sinaapp.com/" target="_blank">
                Continuation
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://neutronest.sinaapp.com/" target="_blank">
                neutronest
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://blog.csdn.net/u011613321" target="_blank">
                阿歇的AC之路
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2017 Wizmann
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://wizmann.tk/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://wizmann.tk/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://wizmann.tk/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'wizmann'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-46053117-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

</body>
</html>