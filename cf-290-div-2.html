<!DOCTYPE html>
<html lang="zhs" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Codeforces Round #290 (Div. 2) Tutorial - Maerlyn's Rainbow</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://wizmann.tk/cf-290-div-2.html">

        <meta name="author" content="Wizmann" />
        <meta name="keywords" content="codeforces,algorithm" />
        <meta name="description" content="A. Fox And Snake Implementation (n, m) = map(int, raw_input().split()) res = [] for i in xrange(n): if i % 2 == 0: res.append(&#39;#&#39; * m) elif (i / 2) % 2 == 0: res.append(&#39;.&#39; * (m - 1) + &#39;#&#39;) else: res.append(&#39;#&#39; + &#39;.&#39; * (m - 1)) for line in res: print line B. Fox And Two Dots DFS ..." />

        <meta property="og:site_name" content="Maerlyn's Rainbow" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Codeforces Round #290 (Div. 2) Tutorial"/>
        <meta property="og:url" content="http://wizmann.tk/cf-290-div-2.html"/>
        <meta property="og:description" content="A. Fox And Snake Implementation (n, m) = map(int, raw_input().split()) res = [] for i in xrange(n): if i % 2 == 0: res.append(&#39;#&#39; * m) elif (i / 2) % 2 == 0: res.append(&#39;.&#39; * (m - 1) + &#39;#&#39;) else: res.append(&#39;#&#39; + &#39;.&#39; * (m - 1)) for line in res: print line B. Fox And Two Dots DFS ..."/>
        <meta property="article:published_time" content="2015-02-18" />
            <meta property="article:section" content="Blog" />
            <meta property="article:tag" content="codeforces" />
            <meta property="article:tag" content="algorithm" />
            <meta property="article:author" content="Wizmann" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://wizmann.tk/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://wizmann.tk/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://wizmann.tk/theme/css/pygments/solarizedlight.css" rel="stylesheet">
    <link rel="stylesheet" href="http://wizmann.tk/theme/css/style.css" type="text/css"/>





</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://wizmann.tk/" class="navbar-brand">
Maerlyn's Rainbow            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="http://wizmann.tk/category/blog.html">Blog</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://wizmann.tk/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://wizmann.tk/cf-290-div-2.html"
                       rel="bookmark"
                       title="Permalink to Codeforces Round #290 (Div. 2) Tutorial">
                        Codeforces Round #290 (Div. 2) Tutorial
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-02-18T00:30:24+08:00"> 2015-02-18</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="http://wizmann.tk/tag/codeforces.html">codeforces</a>
        /
	<a href="http://wizmann.tk/tag/algorithm.html">algorithm</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <h2>A. Fox And Snake</h2>
<p>Implementation</p>
<div class="highlight"><pre><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">raw_input</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>

<span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;#&#39;</span> <span class="o">*</span> <span class="n">m</span><span class="p">)</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">i</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;.&#39;</span> <span class="o">*</span> <span class="p">(</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;#&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;#&#39;</span> <span class="o">+</span> <span class="s">&#39;.&#39;</span> <span class="o">*</span> <span class="p">(</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>

<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">res</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">line</span>
</pre></div>


<h2>B. Fox And Two Dots</h2>
<p>DFS</p>
<div class="highlight"><pre>AAAA
ABCA
AAAA
</pre></div>


<p>We start at arbitrary point, and traverse the neighbour point with the same color to see if there is a circle.</p>
<div class="highlight"><pre><span class="cp">#include &lt;cstdio&gt;</span>
<span class="cp">#include &lt;cstdlib&gt;</span>
<span class="cp">#include &lt;cstring&gt;</span>
<span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;algorithm&gt;</span>
<span class="cp">#include &lt;vector&gt;</span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="cp">#define print(x) cout &lt;&lt; x &lt;&lt; endl</span>
<span class="cp">#define input(x) cin &gt;&gt; x</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">SIZE</span> <span class="o">=</span> <span class="mi">54</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">mx</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">};</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">my</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>

<span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">g</span><span class="p">[</span><span class="n">SIZE</span><span class="p">][</span><span class="n">SIZE</span><span class="p">];</span>
<span class="kt">char</span> <span class="n">visit</span><span class="p">[</span><span class="n">SIZE</span><span class="p">][</span><span class="n">SIZE</span><span class="p">];</span>

<span class="kt">bool</span> <span class="nf">do_dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">char</span> <span class="n">c</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dir</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">visit</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">visit</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">ny</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">my</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="kt">int</span> <span class="n">nx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">mx</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nx</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">nx</span> <span class="o">&gt;=</span> <span class="n">m</span> 
                <span class="o">||</span> <span class="n">ny</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">ny</span> <span class="o">&gt;=</span> <span class="n">n</span> 
                <span class="o">||</span> <span class="n">g</span><span class="p">[</span><span class="n">ny</span><span class="p">][</span><span class="n">nx</span><span class="p">]</span> <span class="o">!=</span> <span class="n">c</span>
                <span class="o">||</span> <span class="p">(</span><span class="n">dir</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">==</span> <span class="p">(</span><span class="n">dir</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">do_dfs</span><span class="p">(</span><span class="n">ny</span><span class="p">,</span> <span class="n">nx</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="n">g</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">x</span><span class="p">];</span>
    <span class="k">return</span> <span class="n">do_dfs</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">input</span><span class="p">(</span><span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">m</span><span class="p">);</span>
    <span class="n">memset</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">g</span><span class="p">));</span>
    <span class="n">memset</span><span class="p">(</span><span class="n">visit</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">visit</span><span class="p">));</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">input</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="n">try</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">visit</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
                    <span class="kt">bool</span> <span class="n">res</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">print</span><span class="p">(</span><span class="s">&quot;Yes&quot;</span><span class="p">);</span>
                        <span class="k">throw</span> <span class="s">&quot;Got it&quot;</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">print</span><span class="p">(</span><span class="s">&quot;No&quot;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(...)</span> <span class="p">{</span>
        <span class="c1">// pass</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h2>C. Fox And Names</h2>
<p>Topsort</p>
<p>This is a classic interview problem. We can find the relationship between two letters from the given name list.</p>
<p>But in this instance, there is no possible lexical order because the name list is invalid.</p>
<div class="highlight"><pre>aaa
aa
a
</pre></div>


<p>So the algorithm can be describe in this way:</p>
<ol>
<li>If the name list is invalid, there is no solution.</li>
<li>Try to find the order of the letters.</li>
<li>Topsort</li>
<li>If topsort is success, print out the new lexical order of the name list. If failed, there is no solution.</li>
</ol>
<div class="highlight"><pre><span class="cp">#include &lt;cstdio&gt;</span>
<span class="cp">#include &lt;cstdlib&gt;</span>
<span class="cp">#include &lt;cstring&gt;</span>
<span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;algorithm&gt;</span>
<span class="cp">#include &lt;queue&gt;</span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="cp">#define print(x) cout &lt;&lt; x &lt;&lt; endl</span>
<span class="cp">#define input(x) cin &gt;&gt; x</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">SIZE</span> <span class="o">=</span> <span class="mi">26</span><span class="p">;</span>

<span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">names</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">g</span><span class="p">[</span><span class="n">SIZE</span><span class="p">];</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">res</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">in</span><span class="p">[</span><span class="n">SIZE</span><span class="p">];</span>

<span class="kt">bool</span> <span class="nf">makeG</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">pre</span> <span class="o">=</span> <span class="n">names</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
        <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">now</span> <span class="o">=</span> <span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

        <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">pre</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">now</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">pre</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">now</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">pre</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">len</span><span class="p">)</span> <span class="o">==</span> <span class="n">now</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">pre</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">now</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">pre</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="sc">&#39;a&#39;</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">now</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="sc">&#39;a&#39;</span><span class="p">;</span>
            <span class="n">g</span><span class="p">[</span><span class="n">a</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
            <span class="n">in</span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">top_sort</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">queue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">q</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">SIZE</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">in</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
            <span class="n">cnt</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">now</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
        <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
        <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">now</span><span class="p">);</span>
        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">next</span><span class="p">:</span> <span class="n">g</span><span class="p">[</span><span class="n">now</span><span class="p">])</span> <span class="p">{</span>
            <span class="n">in</span><span class="p">[</span><span class="n">next</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">in</span><span class="p">[</span><span class="n">next</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">next</span><span class="p">);</span>
                <span class="n">cnt</span><span class="o">++</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">cnt</span> <span class="o">==</span> <span class="n">SIZE</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">print_res</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">i</span><span class="p">:</span> <span class="n">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%c&quot;</span><span class="p">,</span> <span class="sc">&#39;a&#39;</span> <span class="o">+</span> <span class="n">i</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">puts</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">string</span> <span class="n">name</span><span class="p">;</span>

    <span class="n">input</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="n">memset</span><span class="p">(</span><span class="n">in</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">in</span><span class="p">));</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">input</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
        <span class="n">names</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">makeG</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">top_sort</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">print_res</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">puts</span><span class="p">(</span><span class="s">&quot;Impossible&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h2>D. Fox And Jumping</h2>
<p>Extended Euclidean algorithm</p>
<p>As we might know, for every positive integer <code>x</code> and <code>y</code>:</p>
<div class="highlight"><pre>ax + by = gcd(x, y)
</pre></div>


<p>Let's extend this theorem, for an array of positive integer <code>Xs</code>:</p>
<div class="highlight"><pre>As * Xs = gcd(Xs)
</pre></div>


<p>(<code>As</code> is an array of constants, both positive and negative)</p>
<p>If <code>gcd(Xs)</code> equal to one, that is, every two number of the array is co-prime.</p>
<p>So, we can find a subarray that every two number is co-prime, and have the minimal cost.</p>
<p>As there are not too many factors in a single number, even the number here is as large as 10^9. The <code>gcd()</code> of the subarray won't have too many results, and could be stored in a single <code>unordered_map</code> here.</p>
<p>And,</p>
<blockquote>
<p>C++ Iterator Invalidation Rules (C++03)</p>
<p>Associative containers</p>
<p>[multi]{set,map}: all iterators and references unaffected</p>
</blockquote>
<p>Here is the rule of C++ about the behavoir of the iterators when we try to add something into the map during the iteration. So we can just use one sigle map, and avoid the complexity of moving things between to containers.</p>
<div class="highlight"><pre><span class="cp">#include &lt;cstdio&gt;</span>
<span class="cp">#include &lt;cstdlib&gt;</span>
<span class="cp">#include &lt;cstring&gt;</span>
<span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;algorithm&gt;</span>
<span class="cp">#include &lt;vector&gt;</span>
<span class="cp">#include &lt;unordered_map&gt;</span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="cp">#define print(x) cout &lt;&lt; x &lt;&lt; endl</span>
<span class="cp">#define input(x) cin &gt;&gt; x</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">SIZE</span> <span class="o">=</span> <span class="mi">500</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">INF</span> <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">gcd</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">%</span> <span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">gcd</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">Card</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">step</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">cost</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">n</span><span class="p">;</span>

<span class="n">vector</span><span class="o">&lt;</span><span class="n">Card</span><span class="o">&gt;</span> <span class="n">cards</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">input</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="n">cards</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">input</span><span class="p">(</span><span class="n">cards</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">step</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">input</span><span class="p">(</span><span class="n">cards</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">cost</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">mp</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="nl">card</span><span class="p">:</span> <span class="n">cards</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">card</span><span class="p">.</span><span class="n">step</span><span class="p">)</span> <span class="o">==</span> <span class="n">mp</span><span class="p">.</span><span class="n">end</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">mp</span><span class="p">[</span><span class="n">card</span><span class="p">.</span><span class="n">step</span><span class="p">]</span> <span class="o">=</span> <span class="n">INF</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">mp</span><span class="p">[</span><span class="n">card</span><span class="p">.</span><span class="n">step</span><span class="p">]</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">mp</span><span class="p">[</span><span class="n">card</span><span class="p">.</span><span class="n">step</span><span class="p">],</span> <span class="n">card</span><span class="p">.</span><span class="n">cost</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">thres</span> <span class="o">=</span> <span class="n">mp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">mp</span><span class="p">.</span><span class="n">end</span><span class="p">()</span><span class="o">?</span> <span class="n">mp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span> <span class="n">INF</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="nl">p</span><span class="p">:</span> <span class="n">mp</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">auto</span> <span class="n">step</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span><span class="p">;</span>
            <span class="k">auto</span> <span class="n">cost</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">step</span> <span class="o">!=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">cost</span> <span class="o">&gt;=</span> <span class="n">thres</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="kt">int</span> <span class="n">g</span> <span class="o">=</span> <span class="n">gcd</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">cards</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">step</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">mp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="o">==</span> <span class="n">mp</span><span class="p">.</span><span class="n">end</span><span class="p">())</span> <span class="p">{</span>
                <span class="n">mp</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">INF</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">g</span> <span class="o">==</span> <span class="n">step</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">mp</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">mp</span><span class="p">[</span><span class="n">g</span><span class="p">],</span> <span class="n">cost</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="n">mp</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">mp</span><span class="p">[</span><span class="n">g</span><span class="p">],</span> <span class="n">cost</span> <span class="o">+</span> <span class="n">cards</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">cost</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">mp</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">mp</span><span class="p">.</span><span class="n">end</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="s">&quot;-1&quot;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="n">mp</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h2>E. Fox And Dinner</h2>
<p>Max Flow Algorithm</p>
<p>As we know, every odd number must be connected to two even numbers. And, of course, one even number should be connected to two odd numbers.</p>
<p>We use the max flow algortihm. Every odd number have a path with 2 unit of flow to the <strong>source</strong> node, every even number have a path with 2 unit of flow to the <strong>sink</strong> node. And if the sum of one odd number and an even number is a prime, we connect them with a path with 1 unit of flow.</p>
<p>As the result, we have a undirected graph that every node have a degree of 2. It's easy to find out that is an <strong>Euler circuit</strong>. We find the circuit and print it out.</p>
<p>The problem is not easy as it seems. Harsh one, indeed. I used <strong>Dinic</strong> algorithm for the max flow. Actually, I don't like my code here.</p>
<div class="highlight"><pre><span class="cp">#include &lt;cstdio&gt;</span>
<span class="cp">#include &lt;cstring&gt;</span>
<span class="cp">#include &lt;cstdlib&gt;</span>
<span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;algorithm&gt;</span>
<span class="cp">#include &lt;vector&gt;</span>
<span class="cp">#include &lt;queue&gt;</span>
<span class="cp">#include &lt;stack&gt;</span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="cp">#define print(x) cout&lt;&lt;x&lt;&lt;endl</span>
<span class="cp">#define input(x) cin&gt;&gt;x</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">NODE</span> <span class="o">=</span> <span class="mi">200</span> <span class="o">+</span> <span class="mi">19</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">EDGE</span> <span class="o">=</span> <span class="n">NODE</span> <span class="o">*</span> <span class="n">NODE</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">INF</span>  <span class="o">=</span> <span class="mh">0x3f3f3f3f</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">node</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">st</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">flow</span><span class="p">,</span> <span class="n">next</span><span class="p">;</span>
    <span class="n">node</span><span class="p">(){}</span>
    <span class="n">node</span><span class="p">(</span><span class="kt">int</span> <span class="n">ist</span><span class="p">,</span> <span class="kt">int</span> <span class="n">iend</span><span class="p">,</span> <span class="kt">int</span> <span class="n">iflow</span><span class="p">,</span> <span class="kt">int</span> <span class="n">inext</span><span class="p">)</span><span class="o">:</span>
            <span class="n">st</span><span class="p">(</span><span class="n">ist</span><span class="p">),</span> <span class="n">end</span><span class="p">(</span><span class="n">iend</span><span class="p">),</span> <span class="n">flow</span><span class="p">(</span><span class="n">iflow</span><span class="p">),</span> <span class="n">next</span><span class="p">(</span><span class="n">inext</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
<span class="n">node</span> <span class="n">edge</span><span class="p">[</span><span class="n">EDGE</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">head</span><span class="p">[</span><span class="n">NODE</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">ind</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">source</span><span class="p">,</span><span class="n">sink</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">nums</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">cnc</span><span class="p">[</span><span class="n">NODE</span><span class="p">];</span>
<span class="kt">char</span> <span class="n">visit</span><span class="p">[</span><span class="n">NODE</span><span class="p">];</span>

<span class="kt">void</span> <span class="nf">addEdge</span><span class="p">(</span><span class="kt">int</span> <span class="n">s</span><span class="p">,</span><span class="kt">int</span> <span class="n">e</span><span class="p">,</span><span class="kt">int</span> <span class="n">f</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">edge</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span><span class="o">=</span><span class="n">node</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">head</span><span class="p">[</span><span class="n">s</span><span class="p">]);</span>
    <span class="n">head</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">ind</span><span class="o">++</span><span class="p">;</span>

    <span class="n">edge</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span><span class="o">=</span><span class="n">node</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">head</span><span class="p">[</span><span class="n">e</span><span class="p">]);</span>
    <span class="n">head</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="n">ind</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">namespace</span> <span class="n">dinic</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">level</span><span class="p">[</span><span class="n">NODE</span><span class="p">],</span><span class="n">curhead</span><span class="p">[</span><span class="n">NODE</span><span class="p">],</span><span class="n">Que</span><span class="p">[</span><span class="n">NODE</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">estack</span><span class="p">[</span><span class="mi">4</span><span class="o">*</span><span class="n">NODE</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">EDGE</span><span class="p">],</span><span class="n">estop</span><span class="p">;</span>

    <span class="kt">int</span> <span class="nf">BFS</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">memset</span><span class="p">(</span><span class="n">level</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="k">sizeof</span><span class="p">(</span><span class="n">level</span><span class="p">));</span>
        <span class="n">Que</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">source</span><span class="p">;</span>
        <span class="n">level</span><span class="p">[</span><span class="n">source</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">fr</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">tail</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">fr</span><span class="o">!=</span><span class="n">tail</span><span class="p">;</span><span class="n">fr</span><span class="o">=</span><span class="p">(</span><span class="n">fr</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">NODE</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">cur</span><span class="o">=</span><span class="n">Que</span><span class="p">[</span><span class="n">fr</span><span class="p">];</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">e</span><span class="o">=</span><span class="n">head</span><span class="p">[</span><span class="n">cur</span><span class="p">];</span><span class="n">e</span><span class="o">!=-</span><span class="mi">1</span><span class="p">;</span><span class="n">e</span><span class="o">=</span><span class="n">edge</span><span class="p">[</span><span class="n">e</span><span class="p">].</span><span class="n">next</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kt">int</span> <span class="n">next</span><span class="o">=</span><span class="n">edge</span><span class="p">[</span><span class="n">e</span><span class="p">].</span><span class="n">end</span><span class="p">;</span>
                <span class="k">if</span><span class="p">(</span><span class="n">edge</span><span class="p">[</span><span class="n">e</span><span class="p">].</span><span class="n">flow</span> <span class="o">&amp;&amp;</span> <span class="n">level</span><span class="p">[</span><span class="n">next</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">Que</span><span class="p">[</span><span class="n">tail</span><span class="p">]</span><span class="o">=</span><span class="n">next</span><span class="p">;</span>
                    <span class="n">level</span><span class="p">[</span><span class="n">next</span><span class="p">]</span><span class="o">=</span><span class="n">level</span><span class="p">[</span><span class="n">cur</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
                    <span class="n">tail</span><span class="o">=</span><span class="p">(</span><span class="n">tail</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">NODE</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">level</span><span class="p">[</span><span class="n">sink</span><span class="p">]</span><span class="o">!=-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="nf">DFS</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">indptr</span><span class="p">,</span><span class="n">minf</span><span class="p">,</span><span class="n">e</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">res</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">cur</span><span class="o">=</span><span class="n">source</span><span class="p">;</span>                                                   
        <span class="n">estop</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="n">memcpy</span><span class="p">(</span><span class="n">curhead</span><span class="p">,</span><span class="n">head</span><span class="p">,</span><span class="k">sizeof</span><span class="p">(</span><span class="n">head</span><span class="p">));</span>  
        <span class="k">while</span><span class="p">(</span><span class="n">estop</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">{</span>            
            <span class="k">if</span><span class="p">(</span><span class="n">cur</span><span class="o">==</span><span class="n">sink</span><span class="p">)</span>
            <span class="p">{</span>                                      
                <span class="n">minf</span><span class="o">=</span><span class="n">INF</span><span class="p">;</span>
                <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">estop</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">e</span><span class="o">=</span><span class="n">estack</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">edge</span><span class="p">[</span><span class="n">e</span><span class="p">].</span><span class="n">flow</span><span class="o">&lt;=</span><span class="n">minf</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="n">minf</span><span class="o">=</span><span class="n">edge</span><span class="p">[</span><span class="n">e</span><span class="p">].</span><span class="n">flow</span><span class="p">;</span>
                        <span class="n">indptr</span><span class="o">=</span><span class="n">i</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                <span class="n">res</span><span class="o">+=</span><span class="n">minf</span><span class="p">;</span>                                   

                <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">estop</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">)</span>
                <span class="p">{</span>               
                    <span class="n">e</span><span class="o">=</span><span class="n">estack</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
                    <span class="n">edge</span><span class="p">[</span><span class="n">e</span><span class="p">].</span><span class="n">flow</span><span class="o">-=</span><span class="n">minf</span><span class="p">;</span>
                    <span class="n">edge</span><span class="p">[</span><span class="n">e</span><span class="o">^</span><span class="mi">1</span><span class="p">].</span><span class="n">flow</span><span class="o">+=</span><span class="n">minf</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="n">estop</span><span class="o">=</span><span class="n">indptr</span><span class="p">;</span>                                    
                <span class="n">cur</span><span class="o">=</span><span class="n">edge</span><span class="p">[</span><span class="n">estack</span><span class="p">[</span><span class="n">estop</span><span class="p">]].</span><span class="n">st</span><span class="p">;</span>          
            <span class="p">}</span>
            <span class="k">for</span><span class="p">(</span><span class="n">e</span><span class="o">=</span><span class="n">curhead</span><span class="p">[</span><span class="n">cur</span><span class="p">];</span><span class="n">e</span><span class="o">!=-</span><span class="mi">1</span><span class="p">;</span><span class="n">e</span><span class="o">=</span><span class="n">edge</span><span class="p">[</span><span class="n">e</span><span class="p">].</span><span class="n">next</span><span class="p">)</span>
            <span class="p">{</span>  
                <span class="n">curhead</span><span class="p">[</span><span class="n">cur</span><span class="p">]</span><span class="o">=</span><span class="n">e</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">next</span><span class="o">=</span><span class="n">edge</span><span class="p">[</span><span class="n">e</span><span class="p">].</span><span class="n">end</span><span class="p">;</span>
                <span class="k">if</span><span class="p">(</span><span class="n">edge</span><span class="p">[</span><span class="n">e</span><span class="p">].</span><span class="n">flow</span> <span class="o">&amp;&amp;</span> <span class="n">level</span><span class="p">[</span><span class="n">next</span><span class="p">]</span><span class="o">==</span><span class="n">level</span><span class="p">[</span><span class="n">cur</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">estack</span><span class="p">[</span><span class="n">estop</span><span class="o">++</span><span class="p">]</span><span class="o">=</span><span class="n">e</span><span class="p">;</span>
                    <span class="n">cur</span><span class="o">=</span><span class="n">next</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">if</span><span class="p">(</span><span class="n">e</span><span class="o">==-</span><span class="mi">1</span><span class="p">)</span>
            <span class="p">{</span>                                           
                <span class="n">estop</span><span class="o">--</span><span class="p">;</span>
                <span class="n">level</span><span class="p">[</span><span class="n">cur</span><span class="p">]</span><span class="o">=-</span><span class="mi">2</span><span class="p">;</span>                                    
                <span class="n">cur</span><span class="o">=</span><span class="n">edge</span><span class="p">[</span><span class="n">estack</span><span class="p">[</span><span class="n">estop</span><span class="p">]].</span><span class="n">st</span><span class="p">;</span>               
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">init</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ind</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">memset</span><span class="p">(</span><span class="n">head</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="k">sizeof</span><span class="p">(</span><span class="n">head</span><span class="p">));</span>
    <span class="n">memset</span><span class="p">(</span><span class="n">visit</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">visit</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
    <span class="n">visit</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span> <span class="nl">u</span><span class="p">:</span> <span class="n">cnc</span><span class="p">[</span><span class="n">p</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">visit</span><span class="p">[</span><span class="n">u</span><span class="p">])</span> <span class="p">{</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">dfs</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">show_res</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">EDGE</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">edge</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">flow</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">edge</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">st</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">edge</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">end</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">source</span> <span class="o">||</span> <span class="n">b</span> <span class="o">==</span> <span class="n">source</span> <span class="o">||</span> <span class="n">a</span> <span class="o">==</span> <span class="n">sink</span> <span class="o">||</span> <span class="n">b</span> <span class="o">==</span> <span class="n">sink</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">b</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">cnc</span><span class="p">[</span><span class="n">a</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
                <span class="n">cnc</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="cm">/*</span>
<span class="cm">    for (int i = 1; i &lt;= n; i++) {</span>
<span class="cm">        printf(&quot;%d -&gt; &quot;, i);</span>
<span class="cm">        for (auto&amp; item: cnc[i]) {</span>
<span class="cm">            printf(&quot;%d &quot;, item);</span>
<span class="cm">        }</span>
<span class="cm">        puts(&quot;&quot;);</span>
<span class="cm">    }</span>
<span class="cm">    puts(&quot;---&quot;);</span>
<span class="cm">    */</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">res</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">visit</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">tmp</span><span class="p">;</span>
        <span class="n">dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>
        <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">tmp</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">print</span><span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="nl">vec</span><span class="p">:</span> <span class="n">res</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">vec</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
        <span class="k">for</span> <span class="p">(</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="nl">i</span><span class="p">:</span> <span class="n">vec</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot; %d&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">puts</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">isPrime</span><span class="p">(</span><span class="kt">int</span> <span class="n">u</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">u</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">v</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">u</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">freopen</span><span class="p">(</span><span class="s">&quot;E.txt&quot;</span><span class="p">,</span> <span class="s">&quot;r&quot;</span><span class="p">,</span> <span class="n">stdin</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
    <span class="n">input</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="n">init</span><span class="p">();</span>

    <span class="n">source</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">sink</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">input</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
        <span class="n">nums</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">isPrime</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span> <span class="p">{</span>
                <span class="n">addEdge</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">u</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">u</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">addEdge</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">addEdge</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">sink</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">dinic</span><span class="o">::</span><span class="n">BFS</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">res</span><span class="o">+=</span><span class="n">dinic</span><span class="o">::</span><span class="n">DFS</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">res</span> <span class="o">!=</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">puts</span><span class="p">(</span><span class="s">&quot;Impossible&quot;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">show_res</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'wizmann'; // required: replace example with your forum shortname

                    var disqus_identifier = 'cf-290-div-2';
                var disqus_url = 'http://wizmann.tk/cf-290-div-2.html';

            var disqus_config = function () {
                this.language = "zhs";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://github.com/wizmann"><i class="fa fa-github-square fa-lg"></i> github</a></li>
                <li class="list-group-item"><a href="http://wizmann.tk/feeds/all.rss.xml"><i class="fa fa-rss-square fa-lg"></i> rss</a></li>
              </ul>
            </li>



            <li class="list-group-item"><a href="http://wizmann.tk/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                    <li class="list-group-item tag-1">
                        <a href="http://wizmann.tk/tag/algorithm.html">
                            algorithm
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://wizmann.tk/tag/ti-jie.html">
                            题解
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://wizmann.tk/tag/suan-fa.html">
                            算法
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://wizmann.tk/tag/codeforces.html">
                            codeforces
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/chrome-extension.html">
                            chrome-extension
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/interview.html">
                            interview
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/cpp.html">
                            cpp
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/c.html">
                            C++
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/gong-kai-ke.html">
                            公开课
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/system-design.html">
                            System Design
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/phxrpc.html">
                            phxrpc
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/xian-liao.html">
                            闲聊
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://wizmann.tk/tag/python.html">
                            python
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/du-shu.html">
                            读书
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/stack.html">
                            stack
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/google.html">
                            google
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/induction.html">
                            induction
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/she-ji-mo-shi.html">
                            设计模式
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/leetcode.html">
                            leetcode
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/rpc.html">
                            RPC
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/chuang-zao-li.html">
                            创造力
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/protobuf.html">
                            protobuf
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/ucontext.html">
                            ucontext
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/cse351.html">
                            CSE351
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://wizmann.tk/tag/flatbuffer.html">
                            flatbuffer
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/cache.html">
                            cache
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/valgrind.html">
                            valgrind
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/useless.html">
                            useless
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/median.html">
                            median
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/priority_queue.html">
                            priority_queue
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/quora.html">
                            quora
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/heap.html">
                            heap
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/android.html">
                            android
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/thread.html">
                            thread
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/pelican.html">
                            pelican
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/cocurrency.html">
                            cocurrency
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/socket.html">
                            socket
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/keyboard.html">
                            keyboard
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/queue.html">
                            queue
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/ji-suan-ji-ke-xue.html">
                            计算机科学
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/multiprocess.html">
                            multiprocess
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/front-end-development.html">
                            front-end development
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/multithread.html">
                            multithread
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/linux.html">
                            linux
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/memory-barrier.html">
                            memory-barrier
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/mian-shi.html">
                            面试
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/app.html">
                            app
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/string.html">
                            string
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/cachegrind.html">
                            cachegrind
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/lian-biao.html">
                            链表
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/quartile.html">
                            quartile
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/crack.html">
                            crack
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/gcj.html">
                            GCJ
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/ya-suo.html">
                            压缩
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/stylish.html">
                            stylish
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/sort.html">
                            sort
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/cao-kuai-meng.html">
                            糙快猛
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/network.html">
                            network
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/stl.html">
                            STL
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/tlv.html">
                            TLV
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/streambuf.html">
                            streambuf
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/protocol.html">
                            protocol
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/fen-lei-qi.html">
                            分类器
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/ergodone.html">
                            ergodone
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/epoll.html">
                            epoll
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/code-golf.html">
                            code golf
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/poi.html">
                            POI
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/quick-sort.html">
                            quick sort
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/zui-xiao-biao-shi-fa.html">
                            最小表示法
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/ot.html">
                            ot
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/career.html">
                            career
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/distributed-system.html">
                            distributed system
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/alloca.html">
                            alloca
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/binary-tree.html">
                            binary tree
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/markdown.html">
                            markdown
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/binary-indexed-tree.html">
                            binary indexed tree
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/xie-cheng.html">
                            协程
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/poll.html">
                            poll
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/geometric.html">
                            geometric
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/head-first.html">
                            head-first
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/yunfile.html">
                            Yunfile
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/linkedin.html">
                            Linkedin
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/metadata.html">
                            metadata
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/angularjs.html">
                            angularjs
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/zeromq.html">
                            zeromq
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/lock-less.html">
                            lock-less
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/bing-fa-bian-cheng.html">
                            并发编程
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/priority-queue.html">
                            priority queue
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/graph.html">
                            graph
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/normal-distribution.html">
                            normal-distribution
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/social-network.html">
                            Social Network
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/zi-fu-chuan.html">
                            字符串
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/memory.html">
                            memory
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/asm.html">
                            asm
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/allocate.html">
                            allocate
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/misaka.html">
                            misaka
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/geohash.html">
                            GeoHash
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/suo-yin.html">
                            索引
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/si-wei.html">
                            思维
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://wizmann.tk/tag/tcpip.html">
                            tcpip
                        </a>
                    </li>
                </ul>
            </li>


    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://getpelican.com/" target="_blank">
                Pelican
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://continuation.sinaapp.com/" target="_blank">
                Continuation
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://neutronest.sinaapp.com/" target="_blank">
                neutronest
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://blog.csdn.net/u011613321" target="_blank">
                阿歇的AC之路
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Wizmann
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://wizmann.tk/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://wizmann.tk/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://wizmann.tk/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'wizmann'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-46053117-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

</body>
</html>